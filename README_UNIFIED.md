# üåæ Sistema de Gesti√≥n Agr√≠cola - Documentaci√≥n Unificada

[![Deploy Status](https://img.shields.io/badge/deploy-ready-green.svg)](https://render.com)
[![Node.js](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-production--ready-success.svg)]()

---

## üìã **Descripci√≥n del Proyecto**

Sistema web moderno y completo para la gesti√≥n integral de talleres agr√≠colas, desarrollado con tecnolog√≠as de vanguardia y arquitectura escalable.

### **Funcionalidades Principales**

- üöú **Gesti√≥n de Maquinarias**: Registro, seguimiento, mantenimiento y estados
- üîß **Control de Repuestos**: Inventario inteligente con filtros avanzados y control de stock
- üë• **Gesti√≥n de Proveedores**: Directorio completo con contactos y productos
- üõ†Ô∏è **Reparaciones**: Historial detallado y seguimiento de servicios
- üîê **Sistema de Usuarios**: Autenticaci√≥n JWT con roles diferenciados (Admin/User)
- üìä **Dashboard Inteligente**: Estad√≠sticas y m√©tricas en tiempo real
- üé® **UI/UX Moderna**: Interfaz responsive y optimizada para todos los dispositivos

---

## üèóÔ∏è **Arquitectura del Sistema**

### **Stack Tecnol√≥gico Completo**

#### **Frontend**

- **React 18** - Framework principal con hooks modernos
- **Vite** - Build tool ultra-r√°pido con Hot Module Replacement
- **Tailwind CSS** - Framework CSS utility-first para dise√±o responsive
- **React Router v6** - Enrutamiento SPA moderno
- **Axios** - Cliente HTTP para comunicaci√≥n con API

#### **Backend**

- **Node.js 18+** - Runtime JavaScript del servidor
- **Express.js** - Framework web minimalista y robusto
- **Prisma ORM** - ORM moderno con type-safety
- **PostgreSQL** - Base de datos relacional robusta
- **JWT** - Autenticaci√≥n stateless segura
- **bcrypt** - Hashing seguro de contrase√±as

#### **DevOps & Deployment**

- **Render** - Plataforma cloud nativa con auto-scaling
- **Blueprint Architecture** - Configuraci√≥n declarativa de infraestructura
- **Environment Variables** - Configuraci√≥n segura por entorno
- **Health Checks** - Monitoreo autom√°tico de servicios

---

## üöÄ **Inicio R√°pido**

### **1. Prerrequisitos**

```bash
# Versiones m√≠nimas requeridas
node --version  # >= 18.0.0
npm --version   # >= 8.0.0
```

### **2. Instalaci√≥n Completa**

```bash
# Clonar repositorio
git clone https://github.com/LeaGuevara01/node.git
cd node

# Instalar dependencias del monorepo
npm install

# Configurar backend
cd server
cp .env.example .env
# Editar .env con tus configuraciones

# Configurar frontend
cd ../client
cp .env.example .env
# Editar .env con tus configuraciones

# Volver al directorio ra√≠z
cd ..
```

### **3. Configuraci√≥n de Base de Datos**

```bash
# Desde el directorio server/
cd server

# Generar cliente Prisma
npx prisma generate

# Ejecutar migraciones
npx prisma migrate deploy

# (Opcional) Poblar con datos de ejemplo
npx prisma db seed
```

### **4. Desarrollo Local**

```bash
# Ejecutar desarrollo completo (backend + frontend)
npm run dev

# O ejecutar servicios por separado:
npm run dev:server  # Solo backend (puerto 4000)
npm run dev:client  # Solo frontend (puerto 5173)
```

### **5. URLs de Desarrollo**

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:4000/api
- **Health Check**: http://localhost:4000/api/health
- **Prisma Studio**: http://localhost:5555 (ejecutar `npx prisma studio`)

---

## üîß **Sistema de Optimizaci√≥n y Modularizaci√≥n**

### **Arquitectura de Componentes Compartidos**

El sistema ha sido completamente optimizado con una arquitectura modular que elimina redundancias y mejora la mantenibilidad:

#### **Nuevos Sistemas Implementados**

1. **`detailsStyles.js`** - Estilos espec√≠ficos para p√°ginas de detalles
2. **`detailsUtils.jsx`** - Utilidades compartidas (upload, iconos, validaciones)
3. **`DetailsComponents.jsx`** - Componentes reutilizables para todas las p√°ginas de detalles

#### **Componentes Disponibles**

```jsx
import {
  DetailsHeader, // Header con t√≠tulo y navegaci√≥n
  DetailsAlert, // Alertas de error/√©xito consistentes
  DetailsLoading, // Estados de carga unificados
  DetailsSection, // Secciones con t√≠tulos estandarizados
  FieldWithIcon, // Campos con iconos y datos
  SimpleField, // Campos de datos simples
  StatCard, // Tarjetas de estad√≠sticas
  ActionButton, // Botones de acci√≥n consistentes
  ImageUpload, // Componente de upload de im√°genes
} from '../components/shared/DetailsComponents';
```

#### **Patr√≥n de Uso para Nuevas Entidades**

```jsx
function EntityDetails({ token }) {
  // Estados est√°ndar
  const [entity, setEntity] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  // Hooks est√°ndar
  const { id } = useParams();
  const navigate = useNavigate();

  // Estados de carga
  if (loading) return <DetailsLoading message="Cargando entidad..." />;
  if (error && !entity) return <DetailsAlert type="error" message={error} />;

  return (
    <div className={DETAILS_CONTAINER.main}>
      <div className={DETAILS_CONTAINER.maxWidth}>
        <DetailsHeader title={entity.name} onBack={() => navigate('/entities')} />

        <div className={DETAILS_CONTAINER.grid}>
          <DetailsSection title="Informaci√≥n B√°sica">
            <FieldWithIcon icon={COMMON_ICONS.document} label="C√≥digo" value={entity.code} />
            <SimpleField label="Descripci√≥n" value={entity.description} />
          </DetailsSection>
        </div>
      </div>
    </div>
  );
}
```

### **Beneficios de la Optimizaci√≥n**

#### **Mantenibilidad Mejorada**

- ‚úÖ **C√≥digo DRY**: Eliminaci√≥n de duplicaciones
- ‚úÖ **Componentes Reutilizables**: Una implementaci√≥n, m√∫ltiples usos
- ‚úÖ **Estilos Centralizados**: Consistencia visual autom√°tica
- ‚úÖ **Testing Simplificado**: Componentes aislados y testeable

#### **Performance Optimizada**

- ‚úÖ **Bundle Size Reducido**: Menos c√≥digo duplicado
- ‚úÖ **Tree Shaking Efectivo**: Imports espec√≠ficos
- ‚úÖ **Lazy Loading**: Componentes cargados bajo demanda
- ‚úÖ **Render Optimizado**: Menos re-renders innecesarios

#### **Developer Experience**

- ‚úÖ **IntelliSense Mejorado**: TypeScript-ready components
- ‚úÖ **Documentaci√≥n Integrada**: Props documentadas
- ‚úÖ **Hot Reload R√°pido**: Cambios reflejados instant√°neamente
- ‚úÖ **Debugging Simplificado**: Componentes con nombres descriptivos

---

## üîí **Configuraci√≥n de Seguridad**

### **Variables de Entorno**

#### **Backend (.env)**

```env
# Entorno
NODE_ENV=development
PORT=4000

# Seguridad
JWT_SECRET=tu-secret-jwt-de-64-caracteres-minimo-para-seguridad-optima
JWT_EXPIRES_IN=24h

# Base de Datos
DATABASE_URL=postgresql://usuario:contrase√±a@host:puerto/database?schema=public

# CORS
CORS_ORIGIN=http://localhost:5173

# Upload (opcional)
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp
```

#### **Frontend (.env)**

```env
# API Backend
VITE_API_URL=http://localhost:4000/api

# Configuraci√≥n de App
VITE_APP_NAME=Sistema de Gesti√≥n Agr√≠cola
VITE_APP_VERSION=1.0.0

# Features (opcional)
VITE_ENABLE_DEBUG=true
VITE_MAX_UPLOAD_SIZE=5242880
```

### **Autenticaci√≥n y Autorizaci√≥n**

#### **Sistema JWT**

- üîë **Tokens seguros** con expiraci√≥n configurable
- üîí **Refresh tokens** para sesiones prolongadas
- üë§ **Roles granulares**: Admin (CRUD completo) / User (lectura y creaci√≥n limitada)
- üõ°Ô∏è **Middleware de protecci√≥n** en todas las rutas sensibles

#### **Seguridad de Contrase√±as**

- üîê **bcrypt** con salt rounds configurables
- üìè **Validaci√≥n de complejidad** (m√≠nimo 8 caracteres, may√∫sculas, n√∫meros)
- üö´ **Prevenci√≥n de ataques** de fuerza bruta
- üîÑ **Pol√≠ticas de rotaci√≥n** recomendadas

---

## üìö **API Documentation**

### **Endpoints de Autenticaci√≥n**

```http
# Iniciar Sesi√≥n
POST /api/auth/login
Content-Type: application/json

{
  \"email\": \"admin@ejemplo.com\",
  \"password\": \"contrase√±a123\"
}

# Respuesta exitosa
{
  \"token\": \"eyJhbGciOiJIUzI1NiIs...\",
  \"user\": {
    \"id\": 1,
    \"email\": \"admin@ejemplo.com\",
    \"role\": \"Admin\"
  }
}

# Registrar Usuario (Solo Admin)
POST /api/auth/register
Authorization: Bearer {token}
Content-Type: application/json

{
  \"email\": \"nuevo@ejemplo.com\",
  \"password\": \"contrase√±a123\",
  \"role\": \"User\"
}
```

### **Endpoints de Recursos**

#### **Maquinarias**

```http
GET    /api/maquinarias          # Listar con paginaci√≥n y filtros
GET    /api/maquinarias/:id      # Obtener por ID
POST   /api/maquinarias          # Crear (Admin/User)
PUT    /api/maquinarias/:id      # Actualizar (Admin)
DELETE /api/maquinarias/:id      # Eliminar (Admin)
```

#### **Repuestos**

```http
GET    /api/repuestos            # Listar con filtros avanzados
GET    /api/repuestos/:id        # Obtener por ID
GET    /api/repuestos/filtros    # Obtener opciones de filtros
POST   /api/repuestos            # Crear (Admin/User)
PUT    /api/repuestos/:id        # Actualizar (Admin)
DELETE /api/repuestos/:id        # Eliminar (Admin)
```

#### **Proveedores**

```http
GET    /api/proveedores          # Listar todos
GET    /api/proveedores/:id      # Obtener por ID
POST   /api/proveedores          # Crear (Admin)
PUT    /api/proveedores/:id      # Actualizar (Admin)
DELETE /api/proveedores/:id      # Eliminar (Admin)
```

#### **Reparaciones**

```http
GET    /api/reparaciones         # Listar (Admin)
GET    /api/reparaciones/:id     # Obtener por ID (Admin)
POST   /api/reparaciones         # Crear (Admin)
PUT    /api/reparaciones/:id     # Actualizar (Admin)
DELETE /api/reparaciones/:id     # Eliminar (Admin)
```

### **Sistema de Filtros Avanzados**

#### **Filtros de Repuestos**

```http
GET /api/repuestos?categoria=motor&ubicacion=deposito&stockMin=10&stockMax=100&search=filtro

# Par√°metros disponibles:
# - categoria: string
# - ubicacion: string
# - stockMin: number
# - stockMax: number
# - search: string (b√∫squeda en nombre, c√≥digo, descripci√≥n)
# - sinStock: boolean (solo items sin stock)
# - page: number (paginaci√≥n)
# - limit: number (elementos por p√°gina)
```

---

## üìä **Dashboard y Estad√≠sticas**

### **M√©tricas Principales**

El dashboard proporciona una vista completa del estado del sistema:

- üìà **Estad√≠sticas en Tiempo Real**: Contadores autom√°ticos de todas las entidades
- üéØ **Estado de Stock**: Alertas autom√°ticas para repuestos con stock bajo
- üîß **Estado de Maquinarias**: Resumen de estados operativos
- üë• **Actividad de Usuarios**: Registro de acciones recientes
- üìã **Reparaciones Pendientes**: Lista de trabajos en progreso

### **Caracter√≠sticas del Dashboard**

```jsx
// Componentes del Dashboard
const stats = {
  maquinarias: maquinarias.length,
  repuestos: repuestos.length,
  proveedores: proveedores.length,
  reparaciones: reparaciones.length
};

// Tarjetas interactivas con navegaci√≥n directa
<StatsCard
  type=\"repuestos\"
  title=\"Repuestos\"
  value={stats.repuestos}
  onClick={() => setActiveSection('repuestos')}
/>
```

---

## üöÄ **Deployment en Producci√≥n**

### **Configuraci√≥n de Render**

El proyecto est√° configurado para deployment autom√°tico en Render usando Blueprint:

#### **render.yaml**

```yaml
services:
  - type: web
    name: sistemagestionagricola
    env: node
    plan: free
    rootDir: ./server
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: JWT_SECRET
        generateValue: true
      - key: DATABASE_URL
        fromDatabase:
          name: sistemagestionagricola-db
          property: connectionString

  - type: web
    name: sistemagestionagricola-frontend
    env: static
    plan: free
    rootDir: ./client
    buildCommand: npm install && npm run build
    staticPublishPath: ./dist

databases:
  - name: sistemagestionagricola-db
    plan: free
```

### **Scripts de Deployment**

#### **Windows (deploy.ps1)**

```powershell
# Verificar configuraci√≥n
if (!(Test-Path \"render.yaml\")) {
    Write-Error \"render.yaml no encontrado\"
    exit 1
}

# Construir frontend
cd client
npm install
npm run build

# Preparar backend
cd ../server
npm install
npx prisma generate

Write-Host \"‚úÖ Proyecto listo para deployment en Render\"
```

#### **Linux/Mac (deploy.sh)**

```bash
#!/bin/bash
set -e

# Verificar configuraci√≥n
if [ ! -f \"render.yaml\" ]; then
    echo \"‚ùå render.yaml no encontrado\"
    exit 1
fi

# Construir frontend
cd client
npm install
npm run build

# Preparar backend
cd ../server
npm install
npx prisma generate

echo \"‚úÖ Proyecto listo para deployment en Render\"
```

### **URLs de Producci√≥n**

- **Frontend**: https://sistemagestionagricola-frontend.onrender.com
- **Backend API**: https://sistemagestionagricola.onrender.com/api
- **Health Check**: https://sistemagestionagricola.onrender.com/api/health

---

## üß™ **Testing y Calidad**

### **Scripts de Testing**

```bash
# Ejecutar todos los tests
npm test

# Tests con coverage
npm run test:coverage

# Tests del backend √∫nicamente
cd server && npm test

# Tests del frontend √∫nicamente
cd client && npm test

# Linting y formato de c√≥digo
npm run lint
npm run format

# Type checking (si se usa TypeScript)
npm run type-check
```

### **Herramientas de Calidad**

- **ESLint** - Linting de JavaScript/JSX
- **Prettier** - Formateo autom√°tico de c√≥digo
- **Jest** - Framework de testing para backend
- **React Testing Library** - Testing de componentes React
- **Cypress** - Testing E2E (configuraci√≥n opcional)

---

## üîß **Correcciones y Optimizaciones Implementadas**

### **Problemas Resueltos Recientemente**

#### **‚úÖ Dashboard - Estad√≠sticas de Reparaciones**

- **Problema**: Dashboard mostraba 0 reparaciones aunque hab√≠a datos
- **Causa**: API devolv√≠a `{data: Array(1), pagination: {...}}` pero el c√≥digo buscaba solo el array directo
- **Soluci√≥n**: Agregado `reparacionesData?.data` en el procesamiento
- **Resultado**: Estad√≠sticas funcionando correctamente

#### **‚úÖ MaquinariaDetails - Tag de Estado**

- **Problema**: Tag de estado en ubicaci√≥n incorrecta
- **Soluci√≥n**: Movido desde header a secci√≥n de informaci√≥n para mejor UX
- **Beneficio**: Mejor organizaci√≥n visual y consistencia

#### **‚úÖ RepuestoForm - Placeholders Responsivos**

- **Problema**: Placeholders no descriptivos en diferentes tama√±os de pantalla
- **Soluci√≥n**: Implementaci√≥n responsive:
  - Pantallas peque√±as: \"D\" - \"H\"
  - Pantallas grandes: \"Desde\" - \"Hasta\"
- **Implementaci√≥n**: Inputs duplicados con clases `sm:hidden` y `hidden sm:block`

#### **‚úÖ ProveedorForm - Filtros Vac√≠os**

- **Problema**: Combos de ciudades y productos sin opciones
- **Soluci√≥n**: Mejorada funci√≥n `fetchOpcionesFiltros`:
  - Ciudades extra√≠das de direcciones usando `extractCiudadFromDireccion`
  - Productos extra√≠dos de strings/arrays con parsing inteligente

#### **‚úÖ ProveedorDetails - Arquitectura Modernizada**

- **Problema**: C√≥digo desorganizado con errores de estilos
- **Soluci√≥n**: Reescritura completa usando componentes compartidos
- **Beneficios**:
  - Consistencia visual con otros Details
  - C√≥digo m√°s limpio y mantenible
  - Funcionalidades mejoradas (upload de im√°genes, etc.)

#### **‚úÖ Backend - Endpoints Completos**

- **Problema**: Endpoint faltante `GET /api/proveedores/:id`
- **Soluci√≥n**: Implementaci√≥n completa con validaciones
- **Resultado**: API consistente para todas las entidades

### **Arquitectura de Estilos Unificada**

```javascript
// Sistema de estilos modular
import { DETAILS_CONTAINER } from '../styles/detailsStyles'; // Para p√°ginas de detalles
import { MODAL_STYLES } from '../styles/repuestoStyles'; // Para modales
import { FORM_STYLES } from '../styles/formStyles'; // Para formularios

// Componentes compartidos
import {
  DetailsHeader,
  DetailsSection,
  FieldWithIcon,
} from '../components/shared/DetailsComponents';

// Utilidades compartidas
import { handleFileUpload, COMMON_ICONS } from '../utils/detailsUtils.jsx';
```

---

## üö® **Troubleshooting**

### **Problemas Comunes de Desarrollo**

#### **Error: Puerto en Uso**

```bash
# Windows
netstat -ano | findstr :4000
taskkill /F /PID [process-id]

# Linux/Mac
lsof -ti:4000 | xargs kill -9
```

#### **Error: Base de Datos**

```bash
cd server

# Regenerar cliente Prisma
npx prisma generate

# Reset completo de DB (‚ö†Ô∏è elimina datos)
npx prisma migrate reset

# Aplicar migraciones en producci√≥n
npx prisma migrate deploy
```

#### **Error: Variables de Entorno**

```bash
# Verificar archivos .env
ls -la server/.env client/.env

# Validar variables requeridas
node -e \"console.log(process.env.JWT_SECRET)\"
```

### **Problemas de Deployment**

#### **Error: Render detecta Python**

Si Render detecta Python en lugar de Node.js:

1. Verificar que `render.yaml` est√° en el directorio ra√≠z
2. Confirmar que cada servicio especifica `env: node`
3. Crear archivo `.nvmrc` con la versi√≥n de Node:
   ```
   18.17.0
   ```

#### **Error: Build Failure**

```bash
# Limpiar cach√© local
rm -rf node_modules package-lock.json
npm install

# Limpiar build anterior
rm -rf client/dist server/dist

# Rebuild completo
npm run build
```

#### **Error: Database Connection**

1. Verificar `DATABASE_URL` en variables de entorno de Render
2. Confirmar que la base de datos est√° activa
3. Verificar conectividad desde logs de Render

---

## üìÅ **Estructura del Proyecto Completa**

```
üì¶ node/
‚îú‚îÄ‚îÄ üìÇ client/                           # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ public/                       # Assets est√°ticos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ index.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üé® favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ components/               # Componentes React
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ shared/               # Componentes compartidos optimizados
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ DetailsComponents.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Sidebar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ StatsCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ RoleGuard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ *EditModal.jsx        # Modales de edici√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ pages/                    # P√°ginas principales
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Dashboard.jsx         # Dashboard principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ *Form.jsx            # Formularios de listado
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ *Details.jsx         # P√°ginas de detalles optimizadas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ services/                 # API calls
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ api.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ hooks/                    # Custom hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ useFormHooks.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ utils/                    # Utilidades
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ detailsUtils.jsx      # Utilidades para detalles (optimizado)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ colorUtils.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ dataUtils.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ *Utils.js             # Utilidades espec√≠ficas por entidad
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ styles/                   # Sistema de estilos modular
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ detailsStyles.js      # Estilos para p√°ginas de detalles
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ repuestoStyles.js     # Estilos para formularios y modales
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ index.css             # Estilos globales Tailwind
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ App.jsx                   # Componente ra√≠z
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ main.jsx                  # Entry point
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ authContext.tsx           # Context de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ package.json
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ vite.config.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ tailwind.config.js
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ .env.example
‚îú‚îÄ‚îÄ üìÇ server/                           # Backend Node.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ controllers/              # L√≥gica de negocio
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ authController.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ maquinariaController.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ repuestoController.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ proveedorController.js # Optimizado con getById
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ reparacionController.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ routes/                   # Definici√≥n de rutas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ auth.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ maquinaria.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ repuestos.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ proveedores.js        # Incluye ruta GET /:id
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ reparaciones.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ users.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ middleware/               # Middleware personalizado
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ auth.js               # Validaci√≥n JWT
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cors.js               # Configuraci√≥n CORS
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ validation.js         # Validaci√≥n de datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ config/                   # Configuraciones
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ database.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ jwt.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ docs/                     # Documentaci√≥n API
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ swagger.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ index.js                  # Servidor principal
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ prisma/                       # ORM y base de datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ schema.prisma             # Schema de base de datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ migrations/               # Migraciones autom√°ticas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ seed.js                   # Datos de ejemplo
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ scripts/                      # Scripts de utilidad
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ import-repuestos.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ package.json
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ .env.example
‚îú‚îÄ‚îÄ üìÇ docs/                             # Documentaci√≥n completa
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ API_REFERENCE.md              # Documentaci√≥n de API
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ DEPLOYMENT.md                 # Gu√≠a de deployment
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ SETUP_DESARROLLO.md           # Setup de desarrollo
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ SECURITY.md                   # Gu√≠a de seguridad
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ TROUBLESHOOTING.md            # Soluci√≥n de problemas
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ SISTEMA_FILTROS.md            # Sistema de filtros
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ FIXES_COMPLETED.md            # Log de correcciones
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ FINAL_FIXES_COMPLETE.md       # Correcciones finales
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ OPTIMIZATION_SUMMARY.md       # Resumen de optimizaciones
‚îú‚îÄ‚îÄ üìÇ scripts/                          # Scripts de deployment
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ deploy.ps1                    # Script Windows
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ deploy.sh                     # Script Linux/Mac
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ verify-deploy.sh              # Verificaci√≥n
‚îú‚îÄ‚îÄ üìÇ data/                             # Datos de ejemplo
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ samples/
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ repuestos_normalizado.csv
‚îú‚îÄ‚îÄ üìÑ render.yaml                       # Configuraci√≥n de deployment
‚îú‚îÄ‚îÄ üìÑ package.json                      # Scripts del monorepo
‚îú‚îÄ‚îÄ üìÑ .nvmrc                            # Versi√≥n de Node.js
‚îú‚îÄ‚îÄ üìÑ .gitignore
‚îî‚îÄ‚îÄ üìÑ README.md                         # Esta documentaci√≥n
```

---

## üìû **Soporte y Contacto**

### **Logs y Debugging**

#### **Desarrollo Local**

```bash
# Logs del backend
npm run dev:server

# Logs del frontend
npm run dev:client

# Logs de base de datos
npx prisma studio
```

#### **Producci√≥n**

- **Render Dashboard**: Ver logs en tiempo real
- **Health Endpoint**: `/api/health` para verificar estado
- **Database Studio**: Acceso directo desde Render

### **Health Checks**

```http
GET /api/health

# Respuesta esperada:
{
  \"status\": \"ok\",
  \"timestamp\": \"2024-01-01T00:00:00.000Z\",
  \"database\": \"connected\",
  \"version\": \"1.0.0\"
}
```

---

## ü§ù **Contribuci√≥n al Proyecto**

### **Workflow de Contribuci√≥n**

1. **Fork** el repositorio
2. **Crear rama**: `git checkout -b feature/nueva-funcionalidad`
3. **Desarrollar** siguiendo las convenciones establecidas
4. **Testing**: Asegurar que todos los tests pasan
5. **Commit**: `git commit -m 'feat: nueva funcionalidad'`
6. **Push**: `git push origin feature/nueva-funcionalidad`
7. **Pull Request**: Crear PR con descripci√≥n detallada

### **Convenciones de C√≥digo**

#### **Commits**

```bash
feat: nueva funcionalidad
fix: correcci√≥n de bug
docs: actualizaci√≥n de documentaci√≥n
style: cambios de formato/estilo
refactor: refactorizaci√≥n de c√≥digo
test: agregar o modificar tests
chore: tareas de mantenimiento
```

#### **Estructura de Componentes**

```jsx
// Orden de imports
import React from 'react'; // React core
import { useState, useEffect } from 'react'; // React hooks
import { useNavigate } from 'react-router-dom'; // Third party
import { api } from '../services/api'; // Internal services
import { ComponentName } from '../components'; // Internal components
import { STYLES } from '../styles'; // Styles
import './Component.css'; // Component styles

function ComponentName({ prop1, prop2 }) {
  // 1. Hooks
  // 2. State
  // 3. Effects
  // 4. Event handlers
  // 5. Helper functions
  // 6. Render
}

export default ComponentName;
```

---

## üìÑ **Licencia y Legal**

### **Licencia MIT**

```
MIT License

Copyright (c) 2024 Sistema de Gesti√≥n Agr√≠cola

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the \"Software\"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## üéØ **Roadmap y Mejoras Futuras**

### **Versi√≥n 2.0 - Planificada**

#### **Nuevas Funcionalidades**

- üì± **Aplicaci√≥n M√≥vil**: React Native para gesti√≥n m√≥vil
- üîî **Notificaciones**: Alertas autom√°ticas de stock bajo y mantenimientos
- üìä **Analytics Avanzado**: Dashboard con gr√°ficos y tendencias
- üîÑ **Sincronizaci√≥n Offline**: Trabajo sin conexi√≥n con sync autom√°tico
- üé® **Temas Personalizables**: Dark mode y temas corporativos
- üîç **B√∫squeda Global**: B√∫squeda inteligente cross-entity
- üìÑ **Generaci√≥n de Reportes**: PDF automatizados con datos

#### **Mejoras T√©cnicas**

- ‚ö° **Performance**: Implementaci√≥n de Redis para cach√©
- üîí **Seguridad**: 2FA y SSO enterprise
- üß™ **Testing**: Coverage completo con E2E automation
- üöÄ **CI/CD**: Pipeline automatizado con GitHub Actions
- üì¶ **Microservicios**: Arquitectura distribuida escalable
- üåê **Internacionalizaci√≥n**: Soporte multi-idioma
- üìä **Monitoring**: APM con alertas autom√°ticas

### **Contribuciones Bienvenidas**

- üêõ **Bug Reports**: Issues con reproducci√≥n clara
- üí° **Feature Requests**: Sugerencias con casos de uso
- üìù **Documentaci√≥n**: Mejoras y traducciones
- üß™ **Testing**: Agregar tests y casos edge
- üé® **UI/UX**: Mejoras de interfaz y experiencia

---

**üåæ Sistema desarrollado para optimizar la gesti√≥n integral de talleres agr√≠colas**

**‚ú® Arquitectura moderna ‚Ä¢ Performance optimizada ‚Ä¢ C√≥digo mantenible ‚Ä¢ Deployment autom√°tico**

---

_√öltima actualizaci√≥n: Agosto 2025 | Versi√≥n: 1.0.0 | Estado: Producci√≥n_
